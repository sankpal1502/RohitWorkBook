pipeline{
     agent any
     stages {
     
        stage('Preparation') {
        def isTriggeredByCommit = currentBuild.getBuildCauses('com.cloudbees.jenkins.GitHubPushCause').size()  
        echo "$isTriggeredByCommit"
       
        def isTriggeredByUser = currentBuild.getBuildCauses('hudson.model.Cause$UserIdCause').size()  
        echo "$isTriggeredByUser"
        
        def isTriggeredByTimer = currentBuild.getBuildCauses('hudson.triggers.TimerTrigger$TimerTriggerCause').size()  
        echo "$isTriggeredByTimer"
        
           when { 
           anyOf{
           triggeredBy 'TimerTrigger'}
                }
           steps {
                sh 'echo "Hello I am in preparation stage"'
                 }
                
               }
 
            
        stage('Build') {
           steps {
                sh 'echo "Hello I am in Build Stage"'
                sh '''
                    echo "Multiline shell steps works too"
                    ls -lah
                    '''
                 }
               }
            }
    }
            

pipeline{
     agent any
     stages {
     
        stage('Preparation') {
        
           when { 
           anyOf{
           triggeredBy 'TimerTrigger'
            triggeredBy 'ParameterizedTimerTriggerCause'
                }
                }
           steps {
                sh 'echo "Hello I am in preparation stage"'
                 }
                
               }
 
            
        stage('Build') {
           steps {
           
          // sh 'echo "currentBuild.getBuildCauses('com.cloudbees.jenkins.GitHubPushCause').size()"'
             sh 'echo "${currentBuild.getBuildCauses('hudson.triggers.TimerTrigger$TimerTriggerCause').size()}"'
        
                sh 'echo "Hello I am in Build Stage"'
                sh '''
                    echo "Multiline shell steps works too"
                    ls -lah
                    '''
                 }
               }
            }
    }
            
